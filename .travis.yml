language: node_js #defino el lenguaje, en este caso node porque uso JS
cache: #manejo el cache
  directories: #habilito los directorios
    - node_modules #el directorio de cache
    - ~/.npm #y sobre este archivo también
node_js:
  - '12' #Aqui escogo la versión de node
git: #Aqui establezco el nivel de profundidad de git
  depth: 3
script: #habilito los scripts
   - yarn test #Como en este proyecto no hay scripts, solo test y start por eso le mando test

#Ahora vamos a lanzar notificaciones:  
notifications:
  email:
    recipients:
     # - johny.jxc@gmail.com
      - xjohnyx@pm.me
    on_success: always #Cuando este funcione envia correo
    on_failure: always #Cuando este falle, envia correo

#ahora integrando con slack la notificación:
  slack:
    tuopenmind:HkbiqncilaJeGCNCQP76Ou05
#ahora genero el deploy:
deploy:
  provide: heroku #esta vez el proveedor es heroku
  skip-cleanup: true
  keep-history: true
  api_key: 56e03f94-4c40-479b-b421-47469a8b95f5
  app: platzi-store-bknd #este es el nombre de la app en heroku tal cual
  on:
    repo: xjohnyknox/platzi-store-backend
